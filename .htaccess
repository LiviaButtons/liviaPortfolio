SetEnv PHP_VER 7_0
SetEnv REGISTER_GLOBALS 0

# Don't show content of directories without index
IndexIgnore * 

# Redirect to pretty error pages
ErrorDocument 404 https://liviabottoni.eu/404.html
ErrorDocument 403 https://liviabottoni.eu/403.html

# set security headers
Header set Strict-Transport-Security "max-age=31536000" env=HTTPS
Header always set X-Frame-Options "SAMEORIGIN"

# set referrer policy (e.g. what will show in analytics when I link to pages)
Header set Referrer-Policy: strict-origin
# unsafe URL just means I send my whole URL, even if linking to http sites

# set content security policy to avoid loading scripts from unsafe sources
#Header always set Content-Security-Policy-Report-Only: "default-src: 'self'; script-src 'strict-dynamic' https://code.jquery.com https://maxcdn.boostrapcdn.com; style-src 'self' https://maxcdn.bootstrapcdn.com; base-uri https://liviabottoni.eu; object-src 'none'"

# set security header to not allow sniffing and to block XSS
<IfModule mod_headers.c>
  Header set X-Content-Type-Options nosniff
  Header set X-XSS-Protection "1; mode=block"
</IfModule>

# enable the Rewrite capabilities
RewriteEngine On

# if connection is not HTTPS
RewriteCond %{HTTPS} !=on
RewriteCond %{SERVER_PORT} 80
# redirect to https keeping rest of URL
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [R=301]

# Don't allow access to directories without index
Options -Indexes 
